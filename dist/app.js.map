{"version":3,"file":"app.js","sources":["../src/controllers/wallet_controller.js","../src/app.js"],"sourcesContent":["import { Controller } from \"@hotwired/stimulus\"\nimport Web3Modal from \"web3modal\"\nimport WalletConnectProvider from \"@walletconnect/web3-provider\"\nimport { ethers } from \"ethers\"\n\nconsole.log('aaa')\n\nexport default class extends Controller {\n\tstatic targets = [\n\t\t\"connectButton\",\n\t\t\"disconnectButton\",\n\t\t\"rentDiv\",\n\t]\n\n\tstatic classes = [\"hidden\"]\n\n\tstatic contractProvider = null\n\tstatic contract = null\n\tstatic modal = null\n\tstatic provider = null\n\tstatic network = null\n\tstatic chainId = null\n\n\n\tasync connectWallet() {\n\t\tconst providerOptions = {\n\t\t\twalletconnect: {\n\t\t\t\tpackage: WalletConnectProvider,\n\t\t\t\toptions: {\n\t\t\t\t\trpc: {\n\t\t\t\t\t\tCHAIN_ID: RPC_PROVIDER\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.modal = new Web3Modal({\n\t\t\t\tcacheProvider: false,\n\t\t\t\tproviderOptions,\n\t\t})\n\t\tthis.instance = await this.modal.connect()\n\t\tthis.provider = new ethers.providers.Web3Provider(this.instance)\n\t\tthis.network = await this.provider.getNetwork();\n\t\tthis.chainId = this.network.chainId;\n\n\t\tthis.connectButtonTarget.classList.add(hiddenClass)\n\t\tthis.disconnectButtonTarget.classList.remove(hiddenClass)\n\t\tthis.rentDivTarget.classList.remove(hiddenClass)\n\t}\n}\n","import { Application } from \"@hotwired/stimulus\"\nimport WalletController from \"./controllers/wallet_controller.js\"\n\nwindow.Stimulus = Application.start()\n\nStimulus.handleError = (error, message, detail) => {\n\t\tconsole.warn(message, detail)\n\t\tErrorTrackingSystem.captureException(error)\n}\n\nconst CHAIN_ID = 4002\nconst RPC_PROVIDER = \"https://rpc.testnet.fantom.network\"\n\nStimulus.register(\"wallet\", WalletController)\n"],"names":["Controller","WalletConnectProvider","Web3Modal","ethers","Application"],"mappings":";;;;;;;;;;;CAKA,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC;AAClB;CACe,sBAAK,SAASA,mBAAU,CAAC;CACxC,CAAC,OAAO,OAAO,GAAG;CAClB,EAAE,eAAe;CACjB,EAAE,kBAAkB;CACpB,EAAE,SAAS;CACX,EAAE;AACF;CACA,CAAC,OAAO,OAAO,GAAG,CAAC,QAAQ,CAAC;AAC5B;CACA,CAAC,OAAO,gBAAgB,GAAG,IAAI;CAC/B,CAAC,OAAO,QAAQ,GAAG,IAAI;CACvB,CAAC,OAAO,KAAK,GAAG,IAAI;CACpB,CAAC,OAAO,QAAQ,GAAG,IAAI;CACvB,CAAC,OAAO,OAAO,GAAG,IAAI;CACtB,CAAC,OAAO,OAAO,GAAG,IAAI;AACtB;AACA;CACA,CAAC,MAAM,aAAa,GAAG;CACvB,EAAE,MAAM,eAAe,GAAG;CAC1B,GAAG,aAAa,EAAE;CAClB,IAAI,OAAO,EAAEC,yCAAqB;CAClC,IAAI,OAAO,EAAE;CACb,KAAK,GAAG,EAAE;CACV,MAAM,QAAQ,EAAE,YAAY;CAC5B,MAAM;CACN,KAAK;CACL,IAAI;CACJ,IAAG;CACH,EAAE,IAAI,CAAC,KAAK,GAAG,IAAIC,6BAAS,CAAC;CAC7B,IAAI,aAAa,EAAE,KAAK;CACxB,IAAI,eAAe;CACnB,GAAG,EAAC;CACJ,EAAE,IAAI,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,GAAE;CAC5C,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAIC,aAAM,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAC;CAClE,EAAE,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;CAClD,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;AACtC;CACA,EAAE,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,EAAC;CACrD,EAAE,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,EAAC;CAC3D,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,EAAC;CAClD,EAAE;CACF;;CC7CA,MAAM,CAAC,QAAQ,GAAGC,oBAAW,CAAC,KAAK,GAAE;AACrC;CACA,QAAQ,CAAC,WAAW,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,KAAK;CACnD,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAC;CAC/B,EAAE,mBAAmB,CAAC,gBAAgB,CAAC,KAAK,EAAC;CAC7C,EAAC;AAID;CACA,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,gBAAgB;;;;;;"}